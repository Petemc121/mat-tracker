{"ast":null,"code":"import _regeneratorRuntime from\"/home/peter/Documents/mat-tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/peter/Documents/mat-tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/peter/Documents/mat-tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";import React from\"react\";import{BrowserRouter as Router,Routes,Route}from\"react-router-dom\";import{getMembers}from\"./MatTrackerDAO/MatTrackerData\";import CreateMemberPage from\"./pages/CreateMemberPage\";import MemberPage from\"./pages/MemberPage\";import Home from\"./Home\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function RoutingConfig(_ref){var _ref$getMembersFuncti=_ref.getMembersFunction,getMembersFunction=_ref$getMembersFuncti===void 0?getMembers:_ref$getMembersFuncti;var _useState=useState(),_useState2=_slicedToArray(_useState,2),members=_useState2[0],setMembers=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),memberSearch=_useState6[0],setMemberSearch=_useState6[1];useEffect(function(){function waitForMembers(){return _waitForMembers.apply(this,arguments);}function _waitForMembers(){_waitForMembers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var memberArray;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getMembersFunction({name:memberSearch});case 3:memberArray=_context.sent;setMembers(memberArray);setLoading(false);_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);setLoading(true);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return _waitForMembers.apply(this,arguments);}waitForMembers();},[getMembersFunction,memberSearch]);if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"...loading\"});}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{members:members,setMemberSearch:setMemberSearch})}),/*#__PURE__*/_jsx(Route,{path:\"CreateMemberPage\",element:/*#__PURE__*/_jsx(CreateMemberPage,{setMembers:setMembers})}),/*#__PURE__*/_jsx(Route,{path:\"member/:id/:name/:belt/:phone/:joined\",element:/*#__PURE__*/_jsx(MemberPage,{setMembers:setMembers,getMembersFunction:getMembers})})]})});}","map":{"version":3,"sources":["/home/peter/Documents/mat-tracker/client/src/RoutingConfig.tsx"],"names":["useState","useEffect","React","BrowserRouter","Router","Routes","Route","getMembers","CreateMemberPage","MemberPage","Home","RoutingConfig","getMembersFunction","members","setMembers","loading","setLoading","memberSearch","setMemberSearch","waitForMembers","name","memberArray","console","log"],"mappings":"0dAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAkCC,MAAlC,CAA0CC,KAA1C,KAAuD,kBAAvD,CACA,OAASC,UAAT,KAA2B,gCAA3B,CAKA,MAAOC,CAAAA,gBAAP,KAA6B,0BAA7B,CACA,MAAOC,CAAAA,UAAP,KAAuB,oBAAvB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,C,wFAQA,cAAe,SAASC,CAAAA,aAAT,MAEQ,gCADrBC,kBACqB,CADrBA,kBACqB,gCADAL,UACA,uBACrB,cAA8BP,QAAQ,EAAtC,wCAAOa,OAAP,eAAgBC,UAAhB,eACA,eAA8Bd,QAAQ,CAAC,IAAD,CAAtC,yCAAOe,OAAP,eAAgBC,UAAhB,eACA,eAAwChB,QAAQ,CAAC,EAAD,CAAhD,yCAAOiB,YAAP,eAAqBC,eAArB,eAEAjB,SAAS,CAAC,UAAM,SACCkB,CAAAA,cADD,oJACd,yLAE8BP,CAAAA,kBAAkB,CAAC,CAC3CQ,IAAI,CAAEH,YADqC,CAAD,CAFhD,QAEUI,WAFV,eAKIP,UAAU,CAACO,WAAD,CAAV,CACAL,UAAU,CAAC,KAAD,CAAV,CANJ,+EAQIM,OAAO,CAACC,GAAR,cACAP,UAAU,CAAC,IAAD,CAAV,CATJ,oEADc,iDAadG,cAAc,GACf,CAdQ,CAcN,CAACP,kBAAD,CAAqBK,YAArB,CAdM,CAAT,CAgBA,GAAIF,OAAJ,CAAa,CACX,mBAAO,mCAAP,CACD,CAED,mBACE,KAAC,MAAD,wBACE,MAAC,MAAD,yBACE,KAAC,KAAD,EACE,IAAI,CAAC,GADP,CAEE,OAAO,cAAE,KAAC,IAAD,EAAM,OAAO,CAAEF,OAAf,CAAwB,eAAe,CAAEK,eAAzC,EAFX,EADF,cAKE,KAAC,KAAD,EACE,IAAI,CAAC,kBADP,CAEE,OAAO,cAAE,KAAC,gBAAD,EAAkB,UAAU,CAAEJ,UAA9B,EAFX,EALF,cASE,KAAC,KAAD,EACE,IAAI,CAAC,uCADP,CAEE,OAAO,cACL,KAAC,UAAD,EACE,UAAU,CAAEA,UADd,CAEE,kBAAkB,CAAEP,UAFtB,EAHJ,EATF,GADF,EADF,CAuBD","sourcesContent":["import { useState, useEffect } from \"react\";\nimport React from \"react\"\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\nimport { getMembers } from \"./MatTrackerDAO/MatTrackerData\";\nimport {\n  getMembersResponse,\n  getMembersInput,\n} from \"./MatTrackerDAO/MatTrackerDataTypes\";\nimport CreateMemberPage from \"./pages/CreateMemberPage\";\nimport MemberPage from \"./pages/MemberPage\";\nimport Home from \"./Home\";\n\ninterface routingConfigInput {\n  getMembersFunction?: ({\n    name,\n  }: getMembersInput) => Promise<getMembersResponse[]>;\n}\n\nexport default function RoutingConfig({\n  getMembersFunction = getMembers,\n}: routingConfigInput) {\n  const [members, setMembers] = useState<getMembersResponse[] | undefined>();\n  const [loading, setLoading] = useState(true);\n  const [memberSearch, setMemberSearch] = useState(\"\");\n\n  useEffect(() => {\n    async function waitForMembers() {\n      try {\n        const memberArray = await getMembersFunction({\n          name: memberSearch,\n        });\n        setMembers(memberArray);\n        setLoading(false);\n      } catch (error) {\n        console.log(error);\n        setLoading(true);\n      }\n    }\n    waitForMembers();\n  }, [getMembersFunction, memberSearch]);\n\n  if (loading) {\n    return <div>...loading</div>;\n  }\n\n  return (\n    <Router>\n      <Routes>\n        <Route\n          path=\"/\"\n          element={<Home members={members} setMemberSearch={setMemberSearch} />}\n        />\n        <Route\n          path=\"CreateMemberPage\"\n          element={<CreateMemberPage setMembers={setMembers} />}\n        />\n        <Route\n          path=\"member/:id/:name/:belt/:phone/:joined\"\n          element={\n            <MemberPage\n              setMembers={setMembers}\n              getMembersFunction={getMembers}\n            />\n          }\n        />\n      </Routes>\n    </Router>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}